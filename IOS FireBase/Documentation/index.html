<!doctype html>  
<!--[if IE 6 ]><html lang="en-us" class="ie6"> <![endif]-->
<!--[if IE 7 ]><html lang="en-us" class="ie7"> <![endif]-->
<!--[if IE 8 ]><html lang="en-us" class="ie8"> <![endif]-->
<!--[if (gt IE 7)|!(IE)]><!-->
<html lang="en-us"><!--<![endif]-->
<head>
	<meta charset="utf-8">
	
	<title>Country - Full iOS Template App</title>
	
	<meta name="description" content="The Country is a full IOS template written in Swift language">
	<meta name="author" content="Brommko LLC">
	<meta name="copyright" content="Brommko LLC">
	<meta name="generator" content="Documenter v2.0 http://rxa.li/documenter">
	<meta name="date" content="2016-06-04T00:00:00+02:00">
	
	<link rel="stylesheet" href="assets/css/documenter_style.css" media="all">

	<script src="assets/js/jquery.js"></script>
	<script src="assets/js/jquery.scrollTo.js"></script>
	<script src="assets/js/jquery.easing.js"></script>
	<script>document.createElement('section');var duration='500',easing='swing';</script>
	<script src="assets/js/script.js"></script>
	
	<style>
		html{background-color:#EEEEEE;color:#383838;}
		::-moz-selection{background:#333636;color:#00DFFC;}
		::selection{background:#333636;color:#00DFFC;}
		#documenter_sidebar #documenter_logo{background-image:url(assets/images/logo.png);}
		a{color:#008C9E;}
		.btn {
			border-radius:3px;
		}
		.btn-primary {
			  background-image: -moz-linear-gradient(top, #008C9E, #006673);
			  background-image: -ms-linear-gradient(top, #008C9E, #006673);
			  background-image: -webkit-gradient(linear, 0 0, 0 008C9E%, from(#343838), to(#006673));
			  background-image: -webkit-linear-gradient(top, #008C9E, #006673);
			  background-image: -o-linear-gradient(top, #008C9E, #006673);
			  background-image: linear-gradient(top, #008C9E, #006673);
			  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#008C9E', endColorstr='#006673', GradientType=0);
			  border-color: #006673 #006673 #bfbfbf;
			  color:#FFFFFF;
		}
		.btn-primary:hover,
		.btn-primary:active,
		.btn-primary.active,
		.btn-primary.disabled,
		.btn-primary[disabled] {
		  border-color: #008C9E #008C9E #bfbfbf;
		  background-color: #006673;
		}
		hr{border-top:1px solid #D4D4D4;border-bottom:1px solid #FFFFFF;}
		#documenter_sidebar, #documenter_sidebar ul a{background-color:#343838;color:#FFFFFF;}
		#documenter_sidebar ul a{-webkit-text-shadow:1px 1px 0px #494F4F;-moz-text-shadow:1px 1px 0px #494F4F;text-shadow:1px 1px 0px #494F4F;}
		#documenter_sidebar ul{border-top:1px solid #212424;}
		#documenter_sidebar ul a{border-top:1px solid #494F4F;border-bottom:1px solid #212424;color:#FFFFFF;}
		#documenter_sidebar ul a:hover{background:#333636;color:#00DFFC;border-top:1px solid #333636;}
		#documenter_sidebar ul a.current{background:#333636;color:#00DFFC;border-top:1px solid #333636;}
		#documenter_copyright{display:block !important;visibility:visible !important;}
	</style>
	
</head>
<body class="documenter-project-country">

	<div id="documenter_sidebar">
		<a href="#documenter_cover" id="documenter_logo"></a>
		<ul id="documenter_nav">
			<li><a class="current" href="#documenter_cover">Start</a></li>
			<li><a href="#intro" title="Introductions">Introductions</a></li>
			<li><a href="#admob" title="AdMob">AdMob</a></li>
			<li><a href="#firebase" title="Firebase">Firebase</a></li>	
			<li><a href="#onesignal" title="OneSignal">OneSignal</a></li>	
			<li><a href="#database" title="Database">Database</a></li>
			<li><a href="#api" title="API Server">API Helper</a></li>
		</ul>
		<div id="documenter_copyright">Copyright Brommko LLC 2016<br> made with the <a href="http://rxa.li/documenter">Documenter v2.0</a></div>
	</div>

	<div id="documenter_content">
		<section id="documenter_cover">
			<h1>Country</h1>
			<h4>Full iOS Template App</h4>
				<p>The Country is a full IOS template written in Swift language that will help you create a multi-functional app.
					App comes with an incredible user interface, with ability to change or modify it, and adopt different types creating completely different view.
					App offers easy navigation and table modification that suits everyones needs and complexities. 
					Country app is a perfect example of how data should be fetched from the server and inserted in SQLite database. 
					This is a demo app for everyone who is interested in creating more complexed app.

					Icon made by Freepik from www.flaticon.com </p>
			<hr>
			<ul>
				<li>created: 06/04/2016</li>
				<li>latest update: 06/04/2016</li>
				<li>by: Brommko LLC</li>
				<li>email: <a href="mailto:&#98;&#114;&#111;&#109;&#109;&#107;&#111;&#64;&#121;&#97;&#104;&#111;&#111;&#46;&#99;&#111;&#109;">&#98;&#114;&#111;&#109;&#109;&#107;&#111;&#64;&#121;&#97;&#104;&#111;&#111;&#46;&#99;&#111;&#109;</a></li>
			</ul>
			<p>Thank you for purchasing my app. If you have any questions that are beyond the scope of this help file, please feel free to email me. Thanks so much!</p>
		</section>

		<section id="intro">
			<div class="page-header"><h3>Introductions</h3><hr class="notop"></div>
			<p> This app is using EAIntroView, highly customizable drop-in solution for introduction views. More on <a href="https://github.com/ealeksandrov/EAIntroView">EAIntroView</a>.</p>
			<p>
			<img src="assets/images/01_preview.png" alt="BackgroundImage" style="max-width:100%;">
			<img src="assets/images/02_preview.png" alt="BackgroundImage" style="max-width:100%;">
			<img src="assets/images/03_preview.png" alt="BackgroundImage" style="max-width:100%;">
			<img src="assets/images/04_preview.png" alt="BackgroundImage" style="max-width:100%;">
			</p>
			<p>Everything you need to do is to replace images with your own that are going to introduce your app content. Find current images in Xcode Assets folder and replace them. Example bellow:</p>
			<img src="assets/images/xcode_assets.png" alt="XcodeAssets" style="max-width:930px;">
		</section>

		<section id="admob">
			<div class="page-header"><h3>AdMob</h3><hr class="notop"></div>
			<div>
				<div>
					<p>AdMob uses the Google Mobile Ads SDK. The Google Mobile Ads SDK helps app developers gain insights about their users, drive more in-app purchases, and maximize ad revenue. In order to do so, the default integration of the Mobile Ads SDK collects information such as device information, publisher-provided location information, and general in-app purchase information (such as, item purchase price and currency). Everything you need to do is to replace this test id's located in AppDelegate class with your own.</p>
					<p>Simply find and edit <strong>"PushAndAds.plist”</strong> file in the project folder. Change AdMob Unit Id and you are finished. If you don't want AdMob in your app, simply remove key and string tags.</p>
					<img src="assets/images/plist.png" alt="XcodeAssets" style="max-width:930px;">
					<p>More on <a href="https://firebase.google.com/docs/admob/ios/quick-start">Firebase</a></p>

				</div>
			</div>
		</section>

		<section id="firebase">
			<div class="page-header"><h3>Firebase Cloud Messaging</h3><hr class="notop"></div>
			<div>
				<div>
					<p>Firebase Cloud Messaging (FCM) is a cross-platform messaging solution that lets you reliably deliver messages at no cost. Using FCM, you can notify a client app that new email or other data is available to sync. You can send notification messages to drive user reengagement and retention. For use cases such as instant messaging, a message can transfer a payload of up to 4KB to a client app.</p>
					<p>More on <a href="https://firebase.google.com/docs/cloud-messaging/">Firebase</a></p>

					<ul>
						<li>Copy in the <strong>"GoogleServices-Info.plist”</strong> to your project</li>
						<li>Update the app Bundle ID in XCode to match the Bundle ID of your APNs cert.</li>
					</ul>
				</div>
			</div>
		</section>

		<section id="onesignal">
			<div class="page-header"><h3>OneSignal</h3><hr class="notop"></div>
			<div>
				<div>
					<p>OneSignal is a high volume and reliable push notification system for mobile and web applications.</p>
					<p>Simply find and edit <strong>"PushAndAds.plist”</strong> file in the project folder. Change OneSignal App ID and you are finished. If you don't want OneSignal in your app, simply remove key and string tag.</p>
					<p>More on <a href="https://documentation.onesignal.com/docs/getting-started">OneSignal</a></p>
				</div>
			</div>
		</section>

		<section id="database">
			<div class="page-header"><h3>Database</h3><hr class="notop"></div>
			<p>In the world of software development, it doesn’t take long before you need to persist app data. In many cases, this comes in the form of data structures. But how do you store it effectively — and efficiently? Fortunately, some great minds have developed solutions for storing structured data in databases and writing language features to access that data. This app shows you how to work with the popular database platform SQLite, from within Swift. SQLite is available by default on iOS.</p>
			<p>Our data access layer will consist of three layers.  The bottom most, connection, layer will consist of one class named SQLiteDataStore which will contain the connection handle for our SQLite database. This class will implement the singleton pattern so all access to the database will go through one connection handle.</p>
			<p>The next layer will be a data helper layer that will contain one class for each of our tables.  These data helper classes will contain methods to create, insert, delete and query a specific table.  We will want to create a protocol for the data helper classes to ensure that they contain a minimum set of functionality like creating the table.</p>
			<p>The final layer is the model layer.  This layer will contain tuples that model our database tables and will be used to write or retrieve data from the data store.</p>

			<p>You’ll learn how to perform the following database operations:</p>
			<ul>
				<li>Create and connect to a database</li>
				<li>Create a table </li>
				<li>Insert a row </li>
				<li>Update a row </li>
				<li>Delete a row </li>
				<li>Find all</li>
				<li>Find by id</li>
			</ul>
			<p>This is where all starts, image bellow is showing the first method called when app is executed.</p>
			<img src="assets/images/xcode_appdelegate.png" alt="XcodeAssets" style="max-width:930px;">
			<p>You will notice that <b>databaseMigration</b> method is called. This method creates a new connection with <b>SQLiteDataStore.sharedInstance.DB</b> and checks the current PRAGMA version of your database and the versonsForUpgrade variable. If the versonsForUpgrade is higher, <b>migrateVersion</b> will be called.</p>
			<img src="assets/images/xcode_databasemigration.png" alt="XcodeAssets" style="max-width:930px;">
			<p><b>SQLiteDataStore.sharedInstance.DB</b> is opening the existing database or creating a new one, in our case database is named same as our 'Country' app.</p>
			<img src="assets/images/xcode_databaseinit.png" alt="XcodeAssets" style="max-width:930px;">
			<p>If you have changes on database later when your app is in production, you will need to increase versonsForUpgrade number and create methods bellow where you will performe ALTER or any other changes on database. First database version is set in <b>migrateVersion</b> method where tables are created. This will be called just once when you run the app for the first time.</p>
			<img src="assets/images/xcode_firstversion.png" alt="XcodeAssets" style="max-width:930px;">
			<p>In our case, only one table is created called 'country'. In this table we will insert all countries fetched from server. If you need a good SQLite manager, I would suggest <a href="http://www.sqlabs.com/sqlitemanager.php">SQLiteManager</a></p>
			<img src="assets/images/countrytable.png" alt="XcodeAssets" style="max-width:930px;">
			<p>Now lets look at the model layer. Our model has an id, name, capital and region. Save method is trying to update the model using the CountryDataHelper class, if update is not successful, insert will be made. Delete method is also using the CountryDataHelper class. Method mapping is for mapping the server object, in our case, model name property is same as name received in json from server. When we want to sent our model in json format to the server, we will need toJSONString method. This method will map the model back to the same json format received from the server.</p>
			<img src="assets/images/xcode_model.png" alt="XcodeAssets" style="max-width:930px;">
			<p>Now lets look at the data helper layer. This layer will be the bridge to our connection layer and will contain one data helper class per table in our database. We will begin by creating a data helper protocol that will define the set of methods that each data helper class needs to implement. The DataHelperProtocol protocol looks like this:</p>
			<img src="assets/images/xcode_protocol.png" alt="XcodeAssets" style="max-width:930px;">
			<p>Notice that we only define one method to query our data stores. We do this because the methods to query each individual table could be different therefore the method(s) needed to query the tables could be different. We would need to evaluate the query methods needed for each table on a table-by-table basis. Now lets look at the CountryDataHelper class that will confirm to the DataHelperProtocol. This class will be used to read and write information to the Country table of the SQLite data store.</p>
			<img src="assets/images/xcode_datahelper.png" alt="XcodeAssets" style="max-width:930px;">
			<p>We start the CountryDataHelper class by setting the TABLE_NAME property. This property defines the name for the table within our database. Next we define the table property which is the SQLite table that contains our data. We use the table property to access the Country table with in our database. The next four properties (id, name, capital and region) define the name and type of each row in the table. Finally we implement each of the five methods defined in the DataHelperProtocol protocol plus few extra methods which will search the table by its unique identifier and similar methods.</p>
			<p>If you need more methods and queries you can find them on <a href="https://github.com/stephencelis/SQLite.swift">SQLite</a>.</p>
		</section>

		<section id="api">
			<div class="page-header"><h3>API Helper</h3><hr class="notop"></div>
			<p>Our app is using Alamofire. Alamofire is an HTTP networking library written in Swift. First thing you will need to do is to set your own server url in APIHelper class:</p>
			<img src="assets/images/xcode_apiurl.png" alt="XcodeAssets" style="max-width:930px;">
			<p>Next you need to add all services of your server that you will be performing in the app, example:</p>
			<img src="assets/images/xcode_apienum.png" alt="XcodeAssets" style="max-width:930px;">
			<p>In our examples below we will show you how to performe GET request on server using Alamofire and fetch all coutries from <a href="https://restcountries.eu">restcountries</a>. If our model is mapped correctly and in our example it is, this method will convert json received from server to array of our Country models.</p>
			<img src="assets/images/xcode_apiget.png" alt="XcodeAssets" style="max-width:930px;">
			<p>Also if you will need authorisation with your server, in our code you will find 3 more methods that are showing you how to configure authentication and perform register and login requests.</p>
		</section>

	</div>
</body>
</html>